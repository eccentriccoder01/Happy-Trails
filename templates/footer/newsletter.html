<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter Signup | Happy Trails - Kavlin's Mountain Bus Service</title>
    <meta name="description" content="Subscribe to Happy Trails newsletter for travel tips, exclusive offers, route updates, and mountain adventure inspiration.">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Caveat:wght@400;700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        /* [Keep all Phase 1 CSS - adding Phase 2 enhancements...] */
        
        /* ============================================
           GLOBAL STYLES - HAPPY TRAILS THEME
           ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Primary Colors - Sunny Yellow Theme */
            --primary-yellow: #FFD700;
            --secondary-yellow: #FFF8DC;
            --accent-yellow: #FFEB3B;
            --deep-yellow: #F57F17;
            
            /* Complementary Colors */
            --soft-pink: #FFE4E1;
            --coral: #FF7F7F;
            --lavender: #E6E6FA;
            --mint: #F0FFF0;
            --sky-blue: #87CEEB;
            
            /* Neutral Colors */
            --white: #FFFFFF;
            --cream: #FFFEF7;
            --light-gray: #F8F9FA;
            --medium-gray: #6C757D;
            --dark-gray: #343A40;
            --charcoal: #2C3E50;
            
            /* Shadows & Effects */
            --shadow-soft: 0 4px 20px rgba(255, 215, 0, 0.15);
            --shadow-medium: 0 8px 30px rgba(255, 215, 0, 0.25);
            --shadow-strong: 0 12px 40px rgba(255, 215, 0, 0.35);
            
            /* Gradients */
            --gradient-sunrise: linear-gradient(135deg, #FFD700 0%, #FF8C00 50%, #FF6347 100%);
            --gradient-sunset: linear-gradient(135deg, #FFE4B5 0%, #FFD700 50%, #DDA0DD 100%);
            
            /* Transitions */
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.7;
            color: var(--charcoal);
            background: var(--cream);
            overflow-x: hidden;
        }

        /* ============================================
           PHASE 2: ENHANCED ANIMATIONS
           ============================================ */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink {
            50% { border-color: transparent }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes rotateIn {
            from {
                opacity: 0;
                transform: rotate(-200deg) scale(0);
            }
            to {
                opacity: 1;
                transform: rotate(0) scale(1);
            }
        }

        /* ============================================
           PHASE 2: LIVE SUBSCRIBER COUNTER
           ============================================ */
        .subscriber-count {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--primary-yellow);
            color: var(--deep-yellow);
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: var(--shadow-soft);
            position: relative;
            overflow: hidden;
        }

        .subscriber-count::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            100% { left: 100%; }
        }

        .subscriber-count i {
            font-size: 1.3rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .live-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            margin-left: 5px;
            animation: blink 1.5s ease-in-out infinite;
        }

        /* ============================================
           PHASE 2: FLOATING SOCIAL PROOF BADGES
           ============================================ */
        .social-proof-badges {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 999;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .proof-badge {
            background: white;
            border: 2px solid var(--primary-yellow);
            border-radius: 15px;
            padding: 15px;
            box-shadow: var(--shadow-medium);
            min-width: 200px;
            animation: slideInRight 0.5s ease-out;
            cursor: pointer;
            transition: var(--transition-smooth);
        }

        .proof-badge:hover {
            transform: translateX(-10px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }

        .proof-badge-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .proof-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--gradient-sunrise);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        .proof-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--charcoal);
        }

        .proof-message {
            font-size: 0.85rem;
            color: var(--medium-gray);
            margin-bottom: 5px;
        }

        .proof-time {
            font-size: 0.75rem;
            color: var(--medium-gray);
            font-style: italic;
        }

        /* ============================================
           PHASE 2: INTERACTIVE STATS COUNTER
           ============================================ */
        .stats-section {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s ease-out 0.3s;
            animation-fill-mode: both;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }

        .stat-card {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 235, 59, 0.05));
            border-radius: 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            transition: var(--transition-bounce);
        }

        .stat-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: var(--shadow-medium);
            border-color: var(--primary-yellow);
        }

        .stat-icon {
            font-size: 3rem;
            color: var(--deep-yellow);
            margin-bottom: 15px;
            animation: rotateIn 0.8s ease-out;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--charcoal);
            font-family: 'Dancing Script', cursive;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.95rem;
            color: var(--medium-gray);
            font-weight: 500;
        }

        /* ============================================
           PHASE 2: TESTIMONIALS CAROUSEL
           ============================================ */
        .testimonials-section {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s ease-out 0.5s;
            animation-fill-mode: both;
            overflow: hidden;
        }

        .testimonial-carousel {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .testimonial-slide {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .testimonial-slide.active {
            display: block;
        }

        .testimonial-content {
            background: var(--cream);
            border-left: 4px solid var(--primary-yellow);
            padding: 30px;
            border-radius: 15px;
            position: relative;
        }

        .testimonial-quote {
            font-size: 2.5rem;
            color: var(--primary-yellow);
            position: absolute;
            top: 10px;
            left: 15px;
            opacity: 0.3;
        }

        .testimonial-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--medium-gray);
            margin-bottom: 20px;
            padding-left: 30px;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-left: 30px;
        }

        .testimonial-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient-sunrise);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .testimonial-info {
            flex: 1;
        }

        .testimonial-name {
            font-weight: 700;
            color: var(--charcoal);
            margin-bottom: 3px;
        }

        .testimonial-location {
            font-size: 0.9rem;
            color: var(--medium-gray);
        }

        .testimonial-rating {
            color: var(--primary-yellow);
        }

        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .carousel-btn {
            background: var(--gradient-sunrise);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition-bounce);
            font-size: 1.2rem;
        }

        .carousel-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-medium);
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 215, 0, 0.3);
            cursor: pointer;
            transition: var(--transition-smooth);
        }

        .indicator-dot.active {
            background: var(--primary-yellow);
            width: 30px;
            border-radius: 6px;
        }

        /* ============================================
           PHASE 2: REFERRAL PROGRAM SECTION
           ============================================ */
        .referral-section {
            background: var(--gradient-sunset);
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-strong);
            text-align: center;
            border: 3px solid var(--primary-yellow);
            animation: slideIn 0.6s ease-out 0.7s;
            animation-fill-mode: both;
        }

        .referral-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        .referral-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--deep-yellow);
            margin-bottom: 15px;
        }

        .referral-desc {
            font-size: 1.1rem;
            color: var(--medium-gray);
            margin-bottom: 30px;
        }

        .referral-code-box {
            background: white;
            border: 3px dashed var(--primary-yellow);
            border-radius: 15px;
            padding: 20px;
            max-width: 400px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }

        .referral-code {
            font-size: 1.5rem;
            font-weight: 800;
            font-family: 'Courier New', monospace;
            color: var(--deep-yellow);
            letter-spacing: 2px;
        }

        .copy-btn {
            background: var(--gradient-sunrise);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition-smooth);
            white-space: nowrap;
        }

        .copy-btn:hover {
            transform: scale(1.05);
        }

        .referral-benefits {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .referral-benefit {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.5);
        }

        .referral-benefit strong {
            color: var(--deep-yellow);
            font-size: 1.2rem;
        }

        /* ============================================
           PHASE 2: GAMIFICATION BADGES
           ============================================ */
        .badges-section {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s ease-out 0.9s;
            animation-fill-mode: both;
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .badge-card {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 235, 59, 0.05));
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            transition: var(--transition-bounce);
            position: relative;
        }

        .badge-card:hover {
            transform: translateY(-5px) rotate(5deg);
            box-shadow: var(--shadow-medium);
            border-color: var(--primary-yellow);
        }

        .badge-card.locked {
            opacity: 0.5;
            filter: grayscale(100%);
        }

        .badge-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .badge-name {
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--charcoal);
            margin-bottom: 5px;
        }

        .badge-desc {
            font-size: 0.75rem;
            color: var(--medium-gray);
        }

        .lock-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            color: var(--medium-gray);
        }

        /* ============================================
           PHASE 2: NEWSLETTER PREVIEW MODAL
           ============================================ */
        .preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .preview-modal.show {
            display: flex;
        }

        .preview-content {
            background: white;
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-strong);
            animation: bounceIn 0.6s ease-out;
        }

        .preview-header {
            background: var(--gradient-sunrise);
            color: white;
            padding: 25px;
            border-radius: 17px 17px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .preview-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: var(--transition-smooth);
        }

        .preview-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .preview-body {
            padding: 40px;
        }

        /* ============================================
           PHASE 2: COUNTDOWN TIMER
           ============================================ */
        .countdown-section {
            background: linear-gradient(135deg, #FF6347, #FF8C00);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 40px;
            text-align: center;
            color: white;
            box-shadow: var(--shadow-strong);
            animation: slideIn 0.6s ease-out 1.1s;
            animation-fill-mode: both;
        }

        .countdown-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .countdown-box {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            min-width: 100px;
            backdrop-filter: blur(10px);
        }

        .countdown-number {
            font-size: 2.5rem;
            font-weight: 800;
            font-family: 'Courier New', monospace;
        }

        .countdown-label {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }

        /* ============================================
           PHASE 2: ENHANCED FORM FEATURES
           ============================================ */
        .form-progress-bar {
            height: 5px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .form-progress-fill {
            height: 100%;
            background: var(--gradient-sunrise);
            width: 0%;
            transition: width 0.3s ease-out;
        }

        .char-counter {
            text-align: right;
            font-size: 0.85rem;
            color: var(--medium-gray);
            margin-top: 5px;
        }

        .strength-meter {
            height: 8px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .strength-fill {
            height: 100%;
            transition: all 0.3s ease-out;
        }

        .strength-weak { background: #F44336; width: 33%; }
        .strength-medium { background: #FF9800; width: 66%; }
        .strength-strong { background: #4CAF50; width: 100%; }

        /* [Continue with all Phase 1 CSS...] */

        /* ============================================
           HEADER - KEEP FROM PHASE 1
           ============================================ */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 3px solid var(--primary-yellow);
            color: var(--charcoal);
            padding: 25px 20px;
            box-shadow: var(--shadow-soft);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--deep-yellow);
        }

        .header-icon {
            font-size: 2.5rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .back-btn {
            background: var(--gradient-sunrise);
            color: white;
            padding: 12px 28px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition-bounce);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow-medium);
        }

        .back-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }

        /* ============================================
           MAIN CONTENT - KEEP FROM PHASE 1
           ============================================ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 50px 20px 80px;
        }

        /* Hero Section - Keep from Phase 1 */
        .hero-section {
            background: var(--gradient-sunset);
            border-radius: 30px;
            padding: 80px 50px;
            text-align: center;
            box-shadow: var(--shadow-strong);
            margin-bottom: 50px;
            border: 3px solid var(--primary-yellow);
            position: relative;
            overflow: hidden;
            animation: slideIn 0.8s ease-out;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 182, 193, 0.1) 0%, transparent 50%);
            animation: sparkle 4s ease-in-out infinite;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-icon {
            font-size: 6rem;
            margin-bottom: 20px;
            display: block;
            animation: float 3s ease-in-out infinite;
        }

        .hero-title {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            background: var(--gradient-sunrise);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--medium-gray);
            margin-bottom: 25px;
            font-weight: 500;
        }

        /* Newsletter Form Section - Keep from Phase 1 */
        .form-section {
            background: white;
            border-radius: 30px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-strong);
            border: 3px solid var(--primary-yellow);
            animation: slideIn 0.6s ease-out 0.2s;
            animation-fill-mode: both;
        }

        .form-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .form-header h2 {
            font-family: 'Caveat', cursive;
            font-size: 2.8rem;
            color: var(--deep-yellow);
            margin-bottom: 15px;
        }

        .form-header p {
            color: var(--medium-gray);
            font-size: 1.1rem;
        }

        .newsletter-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--charcoal);
            margin-bottom: 10px;
            font-size: 1.05rem;
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: var(--transition-smooth);
            background: var(--cream);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-yellow);
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.2);
            background: white;
        }

        .form-input.error {
            border-color: #F44336;
            animation: shake 0.5s;
        }

        .form-input.success {
            border-color: #4CAF50;
        }

        .error-message {
            color: #F44336;
            font-size: 0.9rem;
            margin-top: 8px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        /* Preference Checkboxes - Keep from Phase 1 */
        .preferences-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .preference-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition-smooth);
        }

        .preference-item:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: var(--primary-yellow);
        }

        .preference-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .preference-item label {
            cursor: pointer;
            user-select: none;
            font-weight: 500;
            flex: 1;
        }

        /* Frequency Selection - Keep from Phase 1 */
        .frequency-options {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .frequency-option {
            flex: 1;
            min-width: 150px;
        }

        .frequency-option input[type="radio"] {
            display: none;
        }

        .frequency-label {
            display: block;
            padding: 15px 20px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition-smooth);
            font-weight: 600;
        }

        .frequency-option input[type="radio"]:checked + .frequency-label {
            background: var(--gradient-sunrise);
            color: white;
            border-color: var(--deep-yellow);
            transform: scale(1.05);
        }

        .frequency-label:hover {
            border-color: var(--primary-yellow);
            transform: translateY(-2px);
        }

        /* Submit Button - Keep from Phase 1 */
        .submit-btn {
            width: 100%;
            padding: 18px;
            background: var(--gradient-sunrise);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-bounce);
            box-shadow: var(--shadow-medium);
            margin-top: 30px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Benefits Section - Keep from Phase 1 */
        .benefits-section {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s ease-out 0.4s;
            animation-fill-mode: both;
        }

        .section-title {
            font-family: 'Caveat', cursive;
            font-size: 2.5rem;
            color: var(--deep-yellow);
            text-align: center;
            margin-bottom: 40px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .benefit-card {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 235, 59, 0.05));
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            transition: var(--transition-bounce);
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
            border-color: var(--primary-yellow);
        }

        .benefit-icon {
            font-size: 2.5rem;
            color: var(--deep-yellow);
            margin-bottom: 15px;
        }

        .benefit-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--charcoal);
            margin-bottom: 10px;
        }

        .benefit-desc {
            color: var(--medium-gray);
            line-height: 1.6;
        }

        /* Sample Newsletter - Keep from Phase 1 */
        .sample-section {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s ease-out 0.6s;
            animation-fill-mode: both;
        }

        .sample-preview {
            background: var(--cream);
            border: 3px solid var(--primary-yellow);
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            margin: 0 auto;
        }

        .sample-header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            margin-bottom: 30px;
        }

        .sample-logo {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .sample-date {
            color: var(--medium-gray);
            font-size: 0.9rem;
        }

        .sample-content h3 {
            color: var(--deep-yellow);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .sample-content p {
            color: var(--medium-gray);
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .sample-cta {
            display: inline-block;
            background: var(--gradient-sunrise);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition-smooth);
        }

        .sample-cta:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        /* Newsletter Archive - Keep from Phase 1 */
        .archive-section {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-soft);
            animation: slideIn 0.6s ease-out 0.8s;
            animation-fill-mode: both;
        }

        .archive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .archive-item {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            transition: var(--transition-smooth);
            cursor: pointer;
        }

        .archive-item:hover {
            border-color: var(--primary-yellow);
            box-shadow: var(--shadow-soft);
            transform: translateY(-3px);
        }

        .archive-date {
            font-weight: 600;
            color: var(--deep-yellow);
            margin-bottom: 10px;
        }

        .archive-title {
            font-weight: 600;
            color: var(--charcoal);
            margin-bottom: 8px;
        }

        .archive-excerpt {
            color: var(--medium-gray);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Privacy Notice - Keep from Phase 1 */
        .privacy-notice {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
            border: 2px solid #4CAF50;
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            text-align: center;
        }

        .privacy-notice h4 {
            color: #4CAF50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .privacy-notice p {
            color: var(--medium-gray);
            margin-bottom: 15px;
        }

        .privacy-links {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .privacy-links a {
            color: #4CAF50;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition-smooth);
        }

        .privacy-links a:hover {
            text-decoration: underline;
        }

        /* Success Modal - Keep from Phase 1 */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .success-modal.show {
            display: flex;
        }

        .success-content {
            background: white;
            border-radius: 30px;
            max-width: 600px;
            width: 100%;
            padding: 50px;
            text-align: center;
            box-shadow: var(--shadow-strong);
            border: 3px solid var(--primary-yellow);
            animation: bounceIn 0.6s ease-out;
        }

        .success-icon {
            font-size: 5rem;
            color: #4CAF50;
            margin-bottom: 20px;
            animation: pulse 1.5s ease-in-out infinite;
        }

        .success-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: var(--deep-yellow);
            margin-bottom: 15px;
        }

        .success-message {
            color: var(--medium-gray);
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 30px;
        }

        .success-close {
            background: var(--gradient-sunrise);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-bounce);
        }

        .success-close:hover {
            transform: scale(1.05);
        }

        /* Footer - Keep from Phase 1 */
        .page-footer {
            background: white;
            border-radius: 25px;
            padding: 35px;
            text-align: center;
            box-shadow: var(--shadow-soft);
            margin-top: 50px;
            border-top: 3px solid var(--primary-yellow);
        }

        .page-footer p {
            color: var(--medium-gray);
            margin-bottom: 10px;
        }

        .footer-heart {
            color: var(--coral);
            animation: float 1.5s ease-in-out infinite;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .social-proof-badges {
                display: none;
            }
        }

        @media (max-width: 992px) {
            .hero-title {
                font-size: 3rem;
            }

            .hero-section {
                padding: 60px 35px;
            }

            .form-section, .benefits-section, .sample-section, .archive-section, 
            .stats-section, .testimonials-section, .referral-section, .badges-section {
                padding: 35px 25px;
            }

            .benefits-grid, .archive-grid, .stats-grid, .badges-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-icon {
                font-size: 4rem;
            }

            .hero-section {
                padding: 50px 25px;
            }

            .form-section, .benefits-section, .sample-section, .archive-section,
            .stats-section, .testimonials-section, .referral-section, .badges-section {
                padding: 30px 20px;
            }

            .preferences-grid {
                grid-template-columns: 1fr;
            }

            .frequency-options {
                flex-direction: column;
            }

            .success-content {
                padding: 40px 25px;
            }

            .success-title {
                font-size: 2.5rem;
            }

            .countdown-timer {
                gap: 10px;
            }

            .countdown-box {
                min-width: 80px;
                padding: 15px;
            }

            .countdown-number {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }

            .hero-icon {
                font-size: 3.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .stat-number {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>

    <!-- PHASE 2: Floating Social Proof Badges -->
    <div class="social-proof-badges" id="socialProofBadges">
        <!-- Dynamically generated -->
    </div>

    <!-- PHASE 2: Newsletter Preview Modal -->
    <div class="preview-modal" id="previewModal">
        <div class="preview-content">
            <div class="preview-header">
                <h3>üìß Full Newsletter Preview</h3>
                <button class="preview-close" onclick="closePreviewModal()">√ó</button>
            </div>
            <div class="preview-body">
                <div class="sample-header">
                    <div class="sample-logo">üöå Happy Trails Newsletter</div>
                    <div class="sample-date">Monday, November 3, 2025 | Issue #47</div>
                </div>
                <div class="sample-content">
                    <h3>üéâ This Week's Highlights</h3>
                    <p>
                        <strong>New Route Alert:</strong> We're excited to announce our brand new Dharampur to Spiti Valley route! 
                        Starting December 1st, explore one of the most breathtaking destinations in Himachal Pradesh. 
                        Early bird discount: 25% off for the first 100 bookings.
                    </p>
                    <a href="#" class="sample-cta">
                        <i class="fas fa-ticket-alt"></i> Book Your Adventure ‚Üí
                    </a>
                    <h3 style="margin-top: 30px;">üí° Travel Tip of the Week</h3>
                    <p>
                        Winter is approaching! Don't forget to pack thermal wear, especially for early morning departures. 
                        Temperatures in the mountains can drop to -5¬∞C. Essential items: thermal undergarments, 
                        insulated jackets, gloves, warm socks, and a good quality scarf.
                    </p>
                    <h3 style="margin-top: 30px;">üì∏ Photo Feature</h3>
                    <p>
                        This week's stunning shot comes from @eccentriccoder01 on the Manali route. The sunrise over 
                        Rohtang Pass was absolutely magical! The golden light reflecting off the snow-capped peaks 
                        created a mesmerizing view. Share your Happy Trails photos on social media with #HappyTrailsMoments 
                        for a chance to be featured in our next issue!
                    </p>
                    <h3 style="margin-top: 30px;">üéÅ Exclusive Subscriber Offer</h3>
                    <p>
                        Use code <strong>NEWSLETTER15</strong> for 15% off your next booking. Valid until November 10, 2025. 
                        This code is exclusively for our newsletter subscribers! Can be combined with early bird discounts 
                        on select routes.
                    </p>
                    <h3 style="margin-top: 30px;">üçÇ Seasonal Highlights</h3>
                    <p>
                        November is the perfect time to witness autumn foliage in the lower Himalayas. Our Shimla and 
                        Kullu routes offer spectacular views of orange and red leaves. Don't forget your camera!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal - Keep from Phase 1 -->
    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">üéâ</div>
            <h2 class="success-title">Welcome Aboard!</h2>
            <p class="success-message">
                Thank you for subscribing to Happy Trails Newsletter! We've sent a confirmation email to 
                <strong id="subscribedEmail"></strong>. Please check your inbox and click the confirmation link 
                to complete your subscription.
            </p>
            <p class="success-message" style="font-size: 0.95rem;">
                Can't find the email? Check your spam folder or <a href="#" onclick="resendConfirmation()" style="color: var(--deep-yellow); font-weight: 600;">resend confirmation</a>.
            </p>
            <button class="success-close" onclick="closeSuccessModal()">Got It!</button>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-title">
                <i class="fas fa-envelope-open-text header-icon"></i>
                <span>Newsletter Signup</span>
            </div>
            <a href="/" class="back-btn">
                <i class="fas fa-home"></i>
                <span>Back to Home</span>
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <div class="hero-icon">üìß</div>
                <h1 class="hero-title">Join Our Newsletter</h1>
                <p class="hero-subtitle">
                    Get travel tips, exclusive offers, route updates, and mountain adventure inspiration delivered to your inbox!
                </p>
                <div class="subscriber-count" id="subscriberCount">
                    <i class="fas fa-users"></i>
                    <span>Join <span id="liveCount">12,547</span> Happy Travelers</span>
                    <span class="live-indicator"></span>
                </div>
            </div>
        </section>

        <!-- PHASE 2: Live Statistics -->
        <section class="stats-section">
            <h2 class="section-title">Our Newsletter Impact</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-number" data-target="12547">0</div>
                    <div class="stat-label">Active Subscribers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìß</div>
                    <div class="stat-number" data-target="47">0</div>
                    <div class="stat-label">Issues Published</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-number" data-target="98">0</div>
                    <div class="stat-label">% Satisfaction Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéÅ</div>
                    <div class="stat-number" data-target="523">0</div>
                    <div class="stat-label">Exclusive Deals Shared</div>
                </div>
            </div>
        </section>

        <!-- PHASE 2: Limited Time Offer Countdown -->
        <section class="countdown-section">
            <div class="countdown-title">‚è∞ Limited Time: Subscribe & Get 20% Off Your First Booking!</div>
            <p style="margin-bottom: 20px;">Offer expires in:</p>
            <div class="countdown-timer">
                <div class="countdown-box">
                    <div class="countdown-number" id="days">00</div>
                    <div class="countdown-label">Days</div>
                </div>
                <div class="countdown-box">
                    <div class="countdown-number" id="hours">00</div>
                    <div class="countdown-label">Hours</div>
                </div>
                <div class="countdown-box">
                    <div class="countdown-number" id="minutes">00</div>
                    <div class="countdown-label">Minutes</div>
                </div>
                <div class="countdown-box">
                    <div class="countdown-number" id="seconds">00</div>
                    <div class="countdown-label">Seconds</div>
                </div>
            </div>
        </section>

        <!-- Newsletter Form (Enhanced) -->
        <section class="form-section">
            <div class="form-header">
                <h2>Subscribe Now</h2>
                <p>Stay updated with the latest routes, offers, and travel stories</p>
            </div>

            <!-- PHASE 2: Form Progress Bar -->
            <div class="form-progress-bar">
                <div class="form-progress-fill" id="formProgress"></div>
            </div>

            <form class="newsletter-form" id="newsletterForm" onsubmit="return handleSubmit(event)">
                <!-- Email Input -->
                <div class="form-group">
                    <label class="form-label" for="email">
                        <i class="fas fa-envelope"></i> Email Address *
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email"
                        class="form-input" 
                        placeholder="your.email@example.com" 
                        required
                        onblur="validateEmail()"
                        oninput="updateFormProgress()"
                    >
                    <div class="error-message" id="emailError">Please enter a valid email address</div>
                </div>

                <!-- Name Input -->
                <div class="form-group">
                    <label class="form-label" for="name">
                        <i class="fas fa-user"></i> Your Name (Optional)
                    </label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name"
                        class="form-input" 
                        placeholder="John Doe"
                        oninput="updateFormProgress()"
                    >
                </div>

                <!-- Content Preferences -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-list-check"></i> What Would You Like to Receive?
                    </label>
                    <div class="preferences-grid">
                        <div class="preference-item">
                            <input type="checkbox" id="pref-offers" name="preferences" value="offers" checked onchange="updateFormProgress()">
                            <label for="pref-offers">üéÅ Exclusive Offers</label>
                        </div>
                        <div class="preference-item">
                            <input type="checkbox" id="pref-routes" name="preferences" value="routes" checked onchange="updateFormProgress()">
                            <label for="pref-routes">üó∫Ô∏è Route Updates</label>
                        </div>
                        <div class="preference-item">
                            <input type="checkbox" id="pref-tips" name="preferences" value="tips" checked onchange="updateFormProgress()">
                            <label for="pref-tips">üí° Travel Tips</label>
                        </div>
                        <div class="preference-item">
                            <input type="checkbox" id="pref-stories" name="preferences" value="stories" checked onchange="updateFormProgress()">
                            <label for="pref-stories">üìñ Travel Stories</label>
                        </div>
                        <div class="preference-item">
                            <input type="checkbox" id="pref-events" name="preferences" value="events" onchange="updateFormProgress()">
                            <label for="pref-events">üéâ Events & News</label>
                        </div>
                        <div class="preference-item">
                            <input type="checkbox" id="pref-seasonal" name="preferences" value="seasonal" onchange="updateFormProgress()">
                            <label for="pref-seasonal">üçÇ Seasonal Guides</label>
                        </div>
                    </div>
                </div>

                <!-- Frequency Selection -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-calendar-alt"></i> How Often Should We Send?
                    </label>
                    <div class="frequency-options">
                        <div class="frequency-option">
                            <input type="radio" id="freq-weekly" name="frequency" value="weekly" checked onchange="updateFormProgress()">
                            <label for="freq-weekly" class="frequency-label">
                                üìÖ Weekly<br>
                                <small style="font-weight: normal;">Every Monday</small>
                            </label>
                        </div>
                        <div class="frequency-option">
                            <input type="radio" id="freq-biweekly" name="frequency" value="biweekly" onchange="updateFormProgress()">
                            <label for="freq-biweekly" class="frequency-label">
                                üìÜ Bi-Weekly<br>
                                <small style="font-weight: normal;">Twice a month</small>
                            </label>
                        </div>
                        <div class="frequency-option">
                            <input type="radio" id="freq-monthly" name="frequency" value="monthly" onchange="updateFormProgress()">
                            <label for="freq-monthly" class="frequency-label">
                                üìÖ Monthly<br>
                                <small style="font-weight: normal;">Once a month</small>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="submit-btn" id="submitBtn">
                    <i class="fas fa-paper-plane"></i> Subscribe Now & Get 20% Off
                </button>

                <!-- Privacy Notice -->
                <div class="privacy-notice">
                    <h4><i class="fas fa-shield-alt"></i> Your Privacy is Protected</h4>
                    <p>
                        We respect your inbox. No spam, ever. Unsubscribe anytime with one click. 
                        Your email is safe with us and will never be shared.
                    </p>
                    <div class="privacy-links">
                        <a href="/privacy"><i class="fas fa-lock"></i> Privacy Policy</a>
                        <a href="/terms"><i class="fas fa-file-contract"></i> Terms of Service</a>
                    </div>
                </div>
            </form>
        </section>

        <!-- PHASE 2: Subscriber Testimonials Carousel -->
        <section class="testimonials-section">
            <h2 class="section-title">What Our Subscribers Say</h2>
            
            <div class="testimonial-carousel">
                <!-- Testimonial 1 -->
                <div class="testimonial-slide active">
                    <div class="testimonial-content">
                        <div class="testimonial-quote">"</div>
                        <div class="testimonial-text">
                            The Happy Trails newsletter has been a game-changer for my travel planning! I never miss 
                            out on great deals, and the travel tips have saved me countless times. The exclusive 
                            subscriber discounts alone have saved me over ‚Çπ5,000 this year!
                        </div>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">RK</div>
                            <div class="testimonial-info">
                                <div class="testimonial-name">Rahul Kumar</div>
                                <div class="testimonial-location">Delhi | Subscribed since 2023</div>
                                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Testimonial 2 -->
                <div class="testimonial-slide">
                    <div class="testimonial-content">
                        <div class="testimonial-quote">"</div>
                        <div class="testimonial-text">
                            I love the weekly travel stories and photography tips! As a travel blogger, the newsletter 
                            keeps me updated on new routes and hidden gems. The community feels like a family. Highly 
                            recommend to anyone who loves mountain adventures!
                        </div>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">PS</div>
                            <div class="testimonial-info">
                                <div class="testimonial-name">Priya Sharma</div>
                                <div class="testimonial-location">Mumbai | Subscribed since 2024</div>
                                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Testimonial 3 -->
                <div class="testimonial-slide">
                    <div class="testimonial-content">
                        <div class="testimonial-quote">"</div>
                        <div class="testimonial-text">
                            Best travel newsletter I've ever subscribed to! It's not spammy at all, just quality content 
                            every Monday. The route updates helped me plan an amazing Spiti Valley trip. The team really 
                            cares about their subscribers.
                        </div>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">AM</div>
                            <div class="testimonial-info">
                                <div class="testimonial-name">Amit Mehta</div>
                                <div class="testimonial-location">Bangalore | Subscribed since 2025</div>
                                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="carousel-controls">
                <button class="carousel-btn" onclick="prevTestimonial()">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="carousel-btn" onclick="nextTestimonial()">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div class="carousel-indicators">
                <span class="indicator-dot active" onclick="goToTestimonial(0)"></span>
                <span class="indicator-dot" onclick="goToTestimonial(1)"></span>
                <span class="indicator-dot" onclick="goToTestimonial(2)"></span>
            </div>
        </section>

        <!-- Why Subscribe Section - Keep from Phase 1 -->
        <section class="benefits-section">
            <h2 class="section-title">Why Subscribe to Happy Trails?</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon"><i class="fas fa-gift"></i></div>
                    <div class="benefit-title">Exclusive Offers & Discounts</div>
                    <div class="benefit-desc">
                        Get early access to special promotions, subscriber-only discounts, and seasonal deals up to 30% off.
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon"><i class="fas fa-map-marked-alt"></i></div>
                    <div class="benefit-title">New Route Announcements</div>
                    <div class="benefit-desc">
                        Be the first to know about new routes, scenic destinations, and expanded services in the Himalayas.
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon"><i class="fas fa-lightbulb"></i></div>
                    <div class="benefit-title">Expert Travel Tips</div>
                    <div class="benefit-desc">
                        Learn insider tips about mountain travel, packing essentials, best seasons to visit, and hidden gems.
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon"><i class="fas fa-book-open"></i></div>
                    <div class="benefit-title">Inspiring Travel Stories</div>
                    <div class="benefit-desc">
                        Read real traveler experiences, adventure tales, and photo features from fellow Happy Trails passengers.
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon"><i class="fas fa-calendar-check"></i></div>
                    <div class="benefit-title">Event & Festival Updates</div>
                    <div class="benefit-desc">
                        Never miss local festivals, cultural events, or seasonal activities happening along our routes.
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon"><i class="fas fa-crown"></i></div>
                    <div class="benefit-title">VIP Treatment</div>
                    <div class="benefit-desc">
                        Priority booking access, special seat reservations, and exclusive perks reserved for newsletter subscribers.
                    </div>
                </div>
            </div>
        </section>

        <!-- PHASE 2: Referral Program -->
        <section class="referral-section">
            <div class="referral-icon">üéâ</div>
            <h2 class="referral-title">Refer Friends & Earn Rewards!</h2>
            <p class="referral-desc">
                Love our newsletter? Share it with friends and earn exclusive rewards!
            </p>
            
            <div class="referral-code-box">
                <div class="referral-code" id="referralCode">TRAILS2025</div>
                <button class="copy-btn" onclick="copyReferralCode()">
                    <i class="fas fa-copy"></i> Copy
                </button>
            </div>

            <div class="referral-benefits">
                <div class="referral-benefit">
                    <strong>3 Referrals</strong><br>
                    <span style="font-size: 0.9rem;">Get ‚Çπ500 travel voucher</span>
                </div>
                <div class="referral-benefit">
                    <strong>5 Referrals</strong><br>
                    <span style="font-size: 0.9rem;">Free seat upgrade</span>
                </div>
                <div class="referral-benefit">
                    <strong>10 Referrals</strong><br>
                    <span style="font-size: 0.9rem;">Free round trip!</span>
                </div>
            </div>
        </section>

        <!-- Sample Newsletter - Keep from Phase 1 but make it clickable -->
        <section class="sample-section">
            <h2 class="section-title">Preview Our Newsletter</h2>
            <p style="text-align: center; color: var(--medium-gray); margin-bottom: 30px;">
                Here's what you can expect in your inbox:
            </p>
            
            <div class="sample-preview" onclick="openPreviewModal()" style="cursor: pointer;">
                <div class="sample-header">
                    <div class="sample-logo">üöå Happy Trails Newsletter</div>
                    <div class="sample-date">Monday, November 3, 2025 | Issue #47</div>
                </div>

                <div class="sample-content">
                    <h3>üéâ This Week's Highlights</h3>
                    <p>
                        <strong>New Route Alert:</strong> We're excited to announce our brand new Dharampur to Spiti Valley route! 
                        Starting December 1st, explore one of the most breathtaking destinations in Himachal Pradesh. 
                        Early bird discount: 25% off for the first 100 bookings.
                    </p>

                    <a href="#" onclick="event.preventDefault(); openPreviewModal();" class="sample-cta">
                        <i class="fas fa-eye"></i> View Full Newsletter ‚Üí
                    </a>
                </div>
            </div>
        </section>

        <!-- PHASE 2: Achievement Badges -->
        <section class="badges-section">
            <h2 class="section-title">Subscriber Achievements</h2>
            <p style="text-align: center; color: var(--medium-gray); margin-bottom: 30px;">
                Unlock exclusive badges as you engage with our newsletter!
            </p>
            
            <div class="badges-grid">
                <div class="badge-card">
                    <div class="badge-icon">üåü</div>
                    <div class="badge-name">Welcome Traveler</div>
                    <div class="badge-desc">Subscribe to newsletter</div>
                </div>

                <div class="badge-card locked">
                    <div class="lock-icon"><i class="fas fa-lock"></i></div>
                    <div class="badge-icon">üìß</div>
                    <div class="badge-name">Regular Reader</div>
                    <div class="badge-desc">Open 5 newsletters</div>
                </div>

                <div class="badge-card locked">
                    <div class="lock-icon"><i class="fas fa-lock"></i></div>
                    <div class="badge-icon">üéÅ</div>
                    <div class="badge-name">Deal Hunter</div>
                    <div class="badge-desc">Use 3 promo codes</div>
                </div>

                <div class="badge-card locked">
                    <div class="lock-icon"><i class="fas fa-lock"></i></div>
                    <div class="badge-icon">üë•</div>
                    <div class="badge-name">Community Builder</div>
                    <div class="badge-desc">Refer 5 friends</div>
                </div>

                <div class="badge-card locked">
                    <div class="lock-icon"><i class="fas fa-lock"></i></div>
                    <div class="badge-icon">üì∏</div>
                    <div class="badge-name">Featured Photographer</div>
                    <div class="badge-desc">Get photo featured</div>
                </div>

                <div class="badge-card locked">
                    <div class="lock-icon"><i class="fas fa-lock"></i></div>
                    <div class="badge-icon">üëë</div>
                    <div class="badge-name">VIP Member</div>
                    <div class="badge-desc">1 year subscription</div>
                </div>
            </div>
        </section>

        <!-- Newsletter Archive - Keep from Phase 1 -->
        <section class="archive-section">
            <h2 class="section-title">Past Newsletters</h2>
            <p style="text-align: center; color: var(--medium-gray); margin-bottom: 30px;">
                Browse our previous editions:
            </p>
            
            <div class="archive-grid">
                <div class="archive-item" onclick="openArchive(46)">
                    <div class="archive-date">üìÖ October 27, 2025 | Issue #46</div>
                    <div class="archive-title">Diwali Travel Guide & Festival Routes</div>
                    <div class="archive-excerpt">
                        Special Diwali routes, festival safety tips, and celebrating in the mountains...
                    </div>
                </div>

                <div class="archive-item" onclick="openArchive(45)">
                    <div class="archive-date">üìÖ October 20, 2025 | Issue #45</div>
                    <div class="archive-title">Autumn Colors: Best Scenic Routes</div>
                    <div class="archive-excerpt">
                        The most beautiful autumn destinations, photography spots, and seasonal travel tips...
                    </div>
                </div>

                <div class="archive-item" onclick="openArchive(44)">
                    <div class="archive-date">üìÖ October 13, 2025 | Issue #44</div>
                    <div class="archive-title">Meet Our Drivers: Behind the Wheel Stories</div>
                    <div class="archive-excerpt">
                        Exclusive interviews with our experienced drivers, their favorite routes and memories...
                    </div>
                </div>

                <div class="archive-item" onclick="openArchive(43)">
                    <div class="archive-date">üìÖ October 6, 2025 | Issue #43</div>
                    <div class="archive-title">Winter is Coming: Route Changes & Tips</div>
                    <div class="archive-excerpt">
                        Preparing for winter travel, route adjustments, and cold weather essentials...
                    </div>
                </div>

                <div class="archive-item" onclick="openArchive(42)">
                    <div class="archive-date">üìÖ September 29, 2025 | Issue #42</div>
                    <div class="archive-title">Customer Spotlight: Amazing Travel Stories</div>
                    <div class="archive-excerpt">
                        Real stories from Happy Trails passengers, their adventures and recommendations...
                    </div>
                </div>

                <div class="archive-item" onclick="openArchive(41)">
                    <div class="archive-date">üìÖ September 22, 2025 | Issue #41</div>
                    <div class="archive-title">Introducing Our New Fleet & Amenities</div>
                    <div class="archive-excerpt">
                        New buses, upgraded features, enhanced comfort, and what's next for Happy Trails...
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer class="page-footer">
        <p style="font-size: 1.1rem;">
            Made with <i class="fas fa-heart footer-heart"></i> by <strong>Kavlin</strong>
        </p>
        <p style="font-size: 0.9rem;">
            Happy Trails Bus Service - Making Every Journey a Happy Trail üöåüíñ
        </p>
        <p style="font-size: 0.85rem; margin-top: 15px;">
            Questions about our newsletter? Email us at 
            <a href="mailto:newsletter@happytrails.com" style="color: var(--deep-yellow); text-decoration: none; font-weight: 600;">
                newsletter@happytrails.com
            </a>
        </p>
    </footer>

    <script>
        // ============================================
        // PHASE 2: GLOBAL VARIABLES
        // ============================================
        let currentTestimonial = 0;
        const totalTestimonials = 3;
        let testimonialInterval;

        // ============================================
        // PHASE 2: LIVE SUBSCRIBER COUNTER
        // ============================================
        function animateCounter() {
            const counters = document.querySelectorAll('.stat-number');
            
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const increment = target / 100;
                let current = 0;
                
                const updateCounter = () => {
                    if (current < target) {
                        current += increment;
                        counter.textContent = Math.ceil(current).toLocaleString();
                        setTimeout(updateCounter, 20);
                    } else {
                        counter.textContent = target.toLocaleString();
                    }
                };
                
                updateCounter();
            });
        }

        // Animate live subscriber count
        function animateLiveCount() {
            let count = 12547;
            setInterval(() => {
                // Randomly increment by 1-3
                count += Math.floor(Math.random() * 3) + 1;
                document.getElementById('liveCount').textContent = count.toLocaleString();
            }, 30000); // Every 30 seconds
        }

        // ============================================
        // PHASE 2: COUNTDOWN TIMER
        // ============================================
        function startCountdown() {
            // Set countdown to 7 days from now
            const endDate = new Date('2025-11-10T23:59:59').getTime();
            
            const timer = setInterval(() => {
                const now = new Date().getTime();
                const distance = endDate - now;
                
                if (distance < 0) {
                    clearInterval(timer);
                    document.querySelector('.countdown-section').innerHTML = 
                        '<div class="countdown-title">üéâ Offer Extended! Subscribe Now!</div>';
                    return;
                }
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = String(days).padStart(2, '0');
                document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
                document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
            }, 1000);
        }

        // ============================================
        // PHASE 2: TESTIMONIAL CAROUSEL
        // ============================================
        function showTestimonial(index) {
            const slides = document.querySelectorAll('.testimonial-slide');
            const dots = document.querySelectorAll('.indicator-dot');
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[index].classList.add('active');
            dots[index].classList.add('active');
        }

        function nextTestimonial() {
            currentTestimonial = (currentTestimonial + 1) % totalTestimonials;
            showTestimonial(currentTestimonial);
            resetTestimonialInterval();
        }

        function prevTestimonial() {
            currentTestimonial = (currentTestimonial - 1 + totalTestimonials) % totalTestimonials;
            showTestimonial(currentTestimonial);
            resetTestimonialInterval();
        }

        function goToTestimonial(index) {
            currentTestimonial = index;
            showTestimonial(currentTestimonial);
            resetTestimonialInterval();
        }

        function resetTestimonialInterval() {
            clearInterval(testimonialInterval);
            testimonialInterval = setInterval(nextTestimonial, 5000);
        }

        // Auto-rotate testimonials
        function startTestimonialCarousel() {
            testimonialInterval = setInterval(nextTestimonial, 5000);
        }

        // ============================================
        // PHASE 2: SOCIAL PROOF NOTIFICATIONS
        // ============================================
        const socialProofMessages = [
            { name: 'Neha S.', action: 'just subscribed', time: '2 minutes ago', avatar: 'NS' },
            { name: 'Raj P.', action: 'unlocked VIP badge', time: '5 minutes ago', avatar: 'RP' },
            { name: 'Anita K.', action: 'used NEWSLETTER15', time: '8 minutes ago', avatar: 'AK' },
            { name: 'Vikram M.', action: 'referred 3 friends', time: '12 minutes ago', avatar: 'VM' },
            { name: 'Sonia T.', action: 'just subscribed', time: '15 minutes ago', avatar: 'ST' }
        ];

        function showSocialProof() {
            const container = document.getElementById('socialProofBadges');
            const randomProof = socialProofMessages[Math.floor(Math.random() * socialProofMessages.length)];
            
            const badge = document.createElement('div');
            badge.className = 'proof-badge';
            badge.innerHTML = `
                <div class="proof-badge-header">
                    <div class="proof-avatar">${randomProof.avatar}</div>
                    <div class="proof-name">${randomProof.name}</div>
                </div>
                <div class="proof-message">${randomProof.action}</div>
                <div class="proof-time">${randomProof.time}</div>
            `;
            
            container.appendChild(badge);
            
            // Remove after 5 seconds
            setTimeout(() => {
                badge.style.animation = 'fadeOut 0.5s ease-out';
                setTimeout(() => badge.remove(), 500);
            }, 5000);
            
            // Limit to 3 badges
            while (container.children.length > 3) {
                container.removeChild(container.firstChild);
            }
        }

        // Show social proof every 15 seconds
        function startSocialProof() {
            // Show first one immediately
            setTimeout(showSocialProof, 3000);
            // Then every 15 seconds
            setInterval(showSocialProof, 15000);
        }

        // ============================================
        // PHASE 2: FORM PROGRESS BAR
        // ============================================
        function updateFormProgress() {
            let progress = 0;
            const totalSteps = 4;
            
            // Email filled
            const email = document.getElementById('email').value;
            if (email && validateEmail()) progress += 25;
            
            // Name filled (optional)
            const name = document.getElementById('name').value;
            if (name) progress += 25;
            
            // At least one preference selected
            const preferences = document.querySelectorAll('input[name="preferences"]:checked');
            if (preferences.length > 0) progress += 25;
            
            // Frequency selected (always true since it's radio with default)
            progress += 25;
            
            document.getElementById('formProgress').style.width = progress + '%';
        }

        // ============================================
        // EMAIL VALIDATION - Keep from Phase 1
        // ============================================
        function validateEmail() {
            const emailInput = document.getElementById('email');
            const errorMessage = document.getElementById('emailError');
            const email = emailInput.value.trim();
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (email === '') {
                emailInput.classList.remove('error', 'success');
                errorMessage.classList.remove('show');
                return false;
            }
            
            if (!emailRegex.test(email)) {
                emailInput.classList.add('error');
                emailInput.classList.remove('success');
                errorMessage.classList.add('show');
                return false;
            } else {
                emailInput.classList.remove('error');
                emailInput.classList.add('success');
                errorMessage.classList.remove('show');
                return true;
            }
        }

        // ============================================
        // FORM SUBMISSION - Enhanced
        // ============================================
        function handleSubmit(event) {
            event.preventDefault();
            
            // Validate email
            if (!validateEmail()) {
                return false;
            }
            
            // Get form data
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value || 'Traveler';
            
            // Get selected preferences
            const preferences = [];
            document.querySelectorAll('input[name="preferences"]:checked').forEach(checkbox => {
                preferences.push(checkbox.value);
            });
            
            // Get frequency
            const frequency = document.querySelector('input[name="frequency"]:checked').value;
            
            // Store subscription data
            const subscriptionData = {
                email: email,
                name: name,
                preferences: preferences,
                frequency: frequency,
                subscribedAt: new Date().toISOString(),
                confirmed: false,
                referralCode: 'TRAILS2025',
                user: 'eccentriccoder01',
                badges: ['welcome-traveler'],
                referralCount: 0
            };
            
            // Save to localStorage (in production, send to backend)
            localStorage.setItem('newsletter_subscription', JSON.stringify(subscriptionData));
            
            // Show success modal with confetti
            showSuccessModal(email);
            triggerConfetti();
            triggerFireworks();
            
            // Reset form
            document.getElementById('newsletterForm').reset();
            document.getElementById('email').classList.remove('success');
            document.getElementById('formProgress').style.width = '0%';
            
            return false;
        }

        // ============================================
        // SUCCESS MODAL - Keep from Phase 1
        // ============================================
        function showSuccessModal(email) {
            document.getElementById('subscribedEmail').textContent = email;
            document.getElementById('successModal').classList.add('show');
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
        }

        // Close modal when clicking outside
        document.getElementById('successModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSuccessModal();
            }
        });

        // ============================================
        // PHASE 2: ENHANCED CONFETTI + FIREWORKS
        // ============================================
        function triggerConfetti() {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 10001 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                
                confetti(Object.assign({}, defaults, {
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 }
                }));
                confetti(Object.assign({}, defaults, {
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 }
                }));
            }, 250);
        }

        function triggerFireworks() {
            const duration = 2000;
            const animationEnd = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0, y: 0.6 },
                    colors: ['#FFD700', '#FF8C00', '#FF6347']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1, y: 0.6 },
                    colors: ['#FFD700', '#FF8C00', '#FF6347']
                });

                if (Date.now() < animationEnd) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        // ============================================
        // PHASE 2: REFERRAL CODE COPY
        // ============================================
        function copyReferralCode() {
            const code = document.getElementById('referralCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = event.target.closest('.copy-btn');
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                btn.style.background = '#4CAF50';
                
                setTimeout(() => {
                    btn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                    btn.style.background = '';
                }, 2000);
                
                showToast('Referral code copied! Share with friends üéâ', 3000);
            });
        }

        // ============================================
        // PHASE 2: PREVIEW MODAL
        // ============================================
        function openPreviewModal() {
            document.getElementById('previewModal').classList.add('show');
        }

        function closePreviewModal() {
            document.getElementById('previewModal').classList.remove('show');
        }

        // Close preview modal when clicking outside
        document.getElementById('previewModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePreviewModal();
            }
        });

        // ============================================
        // PHASE 2: ARCHIVE VIEWER
        // ============================================
        function openArchive(issueNumber) {
            showToast(`Opening Newsletter Issue #${issueNumber}... Coming soon!`, 3000);
            // In production, this would open the archived newsletter
        }

        // ============================================
        // PHASE 2: RESEND CONFIRMATION
        // ============================================
        function resendConfirmation() {
            event.preventDefault();
            const email = document.getElementById('subscribedEmail').textContent;
            showToast(`Confirmation email resent to ${email}! üìß`, 3000);
            // In production, trigger backend email resend
        }

        // ============================================
        // TOAST NOTIFICATIONS
        // ============================================
        function showToast(message, duration = 3000) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%) translateY(100px);
                background: var(--gradient-sunrise);
                color: white;
                padding: 15px 30px;
                border-radius: 50px;
                box-shadow: var(--shadow-strong);
                font-weight: 600;
                z-index: 10002;
                transition: transform 0.3s ease-out;
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            toast.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.transform = 'translateX(-50%) translateY(0)';
            }, 100);
            
            setTimeout(() => {
                toast.style.transform = 'translateX(-50%) translateY(100px)';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, duration);
        }

        // ============================================
        // SCROLL ANIMATIONS
        // ============================================
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    
                    // Animate counters when stats section is visible
                    if (entry.target.classList.contains('stats-section')) {
                        animateCounter();
                    }
                }
            });
        }, observerOptions);

        document.querySelectorAll('.form-section, .benefits-section, .sample-section, .archive-section, .stats-section, .testimonials-section, .referral-section, .badges-section, .countdown-section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(30px)';
            section.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
            observer.observe(section);
        });

        // ============================================
        // PHASE 2: INITIALIZATION
        // ============================================
        window.addEventListener('DOMContentLoaded', function() {
            // Track newsletter page view
            localStorage.setItem('newsletter_page_visited', new Date().toISOString());
            localStorage.setItem('newsletter_visitor', 'eccentriccoder01');
            
            // Start countdown timer
            startCountdown();
            
            // Start testimonial carousel
            startTestimonialCarousel();
            
            // Start social proof notifications
            startSocialProof();
            
            // Animate live subscriber count
            animateLiveCount();
            
            // Initialize form progress
            updateFormProgress();
            
            // Add fade-in animation for social proof
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeOut {
                    from { opacity: 1; transform: translateX(0); }
                    to { opacity: 0; transform: translateX(50px); }
                }
            `;
            document.head.appendChild(style);
        });
    </script>

</body>
</html>